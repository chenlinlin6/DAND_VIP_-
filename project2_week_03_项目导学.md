## 导航

## 学习地图

### ／项目总体规划／

项目名称：探索共享单车用户行为规律 

项目时间：4周 

- 第1周：Python基础内容 - Python基础（数据类型和运算符、控制流、函数、脚本编写） 
- 第2周：Python数据处理内容 - Python数据分析（学习Numpy、Pandas库基本操作）
- **🚕第3周：完成项目并实现第一次提交**
- 第4周：通过项目 - 修改项目，项目的反思总结，整理成可呈现面试的项目报告

## 本周要完成的任务

- 完成实战项目前的4～10的3道练习题（推荐）
- 完成项目并实现第一次提交

### 完成实战前的练习题

- 理解数据
- 练习题1
- 练习题2
- 练习题3

### 项目说明

![image-20181104111647357](/Users/chenlinlin/Documents/macbook air/写的文章/DAND_VIP_数据分析入门班每周导学/pic/流程图.png)

在这三个部分当中，最有挑战性的是前两部分，需要花点心思。但不用担心，一步一步去分解就好了。

### 重要的模块

完成项目过程中可能会遇到跟这些模块相关的内容

### 流程1 获得筛选的条件

#### input函数

注意获取的时候统一小写，比如输入`Chicago`，返回`chicago`。

可以用`input`后面加一个`lower()`函数实现。

比如`city=input('Your city').lower()`

#### while的循环

为了防止输入不合法，也就是不在我们取数的范围内，我们可以设置一个while的循环，只有判断输入值在我们所有可能的取值的列表内，我们才break，退出这个循环。

### 流程2 将三个条件生成筛选后的dataframe

city变量用来读取相应的城市文件，因为有了一个字典`CITY_DATA`，所以我们对应去取到文件名，然后传入到`pd.read_csv()`里面即可。

我们需要判断一下传入的month和day参数是否是`all`，如果不是`all`，我们再进行相应的筛选。

#### datetime模块

`datetime`可以将文本字符串格式的日期转换为datetime日期格式，而datetime日期格式可以方便我们提取各种时间格式的结果，比如年月日，时分秒等等。

不妨先放出一张时间格式表

%y 两位数的年份表示（00-99）

%Y 四位数的年份表示（000-9999）

%m 月份（01-12）

%d 月内中的一天（0-31）

%H 24小时制小时数（0-23）

%I 12小时制小时数（01-12）

%M 分钟数（00=59）

%S 秒（00-59）

%a 本地简化星期名称

%A 本地完整星期名称

%b 本地简化的月份名称

%B 本地完整的月份名称

> `strptime`方法
>
> **将文本转换为时间**，传入两个参数，一个是文本，另外一个是对应的时间格式
>
> ```python
> from datetime import datetime#导入datetime模块
> date_=datetime.strptime('2017-01-04 08:27:49', '%Y-%m-%d %H:%M:%S')
> print(date_)
> ```
>
> ![image-20181104100912161](/Users/chenlinlin/Documents/macbook air/写的文章/DAND_VIP_数据分析入门班每周导学/pic/返回结果.png)
>
> 这里可以理解为括号里面传入第一个是文本字符串的格式的时间，然后第二个参数我们告诉这个函数，我们要按照什么样的格式去转换这个字符串。比如我们告诉这个函数，这个字符串的年份是4位的，是2017，那么我们就用`%Y`，月份是`'%m'`，以此类推。
>
> `datetime.strptime`是对单个文本字符串作用的，如果要应用于dataframe的一列或者多列，不妨考虑用lambda函数加上apply用法。
>
> `strftime`方法
>
> 将datetime格式的时间提取出对应的时间格式
>
> ```python
> #上面的date_
> date_.strftime('%B')#月份
> date_.strftime('%A')#时
> ```
>

当然我们也可以用练习题3参考答案的，先用`pd.to_datetime()`方法将`df['Start Time']`转换成日期格式，然后再用`.dt.month`以及`dt.weekday_name`抽取出月份和星期几的信息。

### 流程3 计算一些统计学变量

1. 要重点理解每个注释的to do的意思，比如most recent也就是取时间最近的也就是时间最大的，用max函数；most common也就是出现次数最多的，也就是众数。
2. 学会常用的一些方法，众数mode，平均值mean，最大值max（），计数value_counts等等